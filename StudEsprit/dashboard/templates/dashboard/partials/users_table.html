<div class="overflow-x-auto bg-white rounded-2xl shadow border border-gray-200">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-esprit-red/10 text-esprit-red uppercase text-xs">
      <tr>
        <th class="px-4 py-2 text-left">Email</th>
        <th class="px-4 py-2 text-left">Username</th>
        <th class="px-4 py-2 text-left">Rôle</th>
        <th class="px-4 py-2 text-left">Créé</th>
        <th class="px-4 py-2"></th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      {% for row in rows %}
        {% include 'dashboard/partials/user_row.html' %}
      {% empty %}
        <tr><td class="px-4 py-3" colspan="5">Aucun utilisateur.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="flex items-center justify-between mt-3 text-sm text-esprit-gray">
  <div>Page {{ page }} / {{ pages }} ({{ total }} utilisateurs)</div>
  <div class="space-x-2">
    {% if page > 1 %}
      <button class="px-3 py-1 rounded-full border border-gray-300" hx-get="/dashboard/users/partial?q={{ q }}&role={{ role }}&page={{ page|add:-1 }}&page_size={{ page_size }}" hx-target="#users-table">Préc.</button>
    {% endif %}
    {% if page < pages %}
      <button class="px-3 py-1 rounded-full border border-gray-300" hx-get="/dashboard/users/partial?q={{ q }}&role={{ role }}&page={{ page|add:1 }}&page_size={{ page_size }}" hx-target="#users-table">Suiv.</button>
    {% endif %}
  </div>
</div>
