<tr>
  <td class="px-4 py-3">{{ row.email }}</td>
  <td class="px-4 py-3">{{ row.username }}</td>
  <td class="px-4 py-3">
    {% if current_user.role == 'Admin' %}
      <form hx-post="/dashboard/users/update-role" hx-target="closest tr" hx-swap="outerHTML" class="inline-flex items-center gap-2">
        {% csrf_token %}
        <input type="hidden" name="user_id" value="{{ row.id }}" />
        <select name="role" class="px-3 py-1 rounded-full border border-gray-300 focus:border-esprit-red focus:ring-esprit-red text-sm">
          <option value="Student" {% if row.role == 'Student' %}selected{% endif %}>Student</option>
          <option value="Admin" {% if row.role == 'Admin' %}selected{% endif %}>Admin</option>
        </select>
        <button class="px-3 py-1 rounded-full bg-esprit-red text-white text-sm">Mettre Ã  jour</button>
      </form>
    {% else %}
      <span class="px-3 py-1 rounded-full bg-esprit-red/10 text-esprit-red text-sm">{{ row.role }}</span>
    {% endif %}
  </td>
  <td class="px-4 py-3">{{ row.created_at }}</td>
  <td class="px-4 py-3"></td>
  <input type="hidden" value="{{ row.id }}" />
</tr>
