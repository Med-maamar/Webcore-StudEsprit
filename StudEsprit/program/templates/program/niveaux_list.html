{% extends 'base.html' %}
{% block content %}
<div class="space-y-6">
  <div class="flex items-center justify-between gap-4">
    <div>
      <h1 class="text-2xl font-semibold text-esprit-dark">Gestion des niveaux</h1>
      <p class="text-sm text-gray-500">Créer et gérer les niveaux de formation.</p>
    </div>
    <div class="flex items-center gap-3">
      <form class="flex items-center bg-white rounded-full shadow-sm px-3 py-2 border border-gray-200" hx-get="{% url 'niveaux_partial' %}" hx-trigger="keyup changed delay:300ms" hx-target="#niveaux-table" hx-include="this">
        <svg class="w-5 h-5 text-gray-400 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 100-15 7.5 7.5 0 000 15z"></path></svg>
        <input type="text" name="q" value="{{ q }}" placeholder="Rechercher..." class="outline-none text-sm" />
        <input type="hidden" name="page" value="{{ page|default:1 }}" />
        <input type="hidden" name="page_size" value="{{ page_size|default:20 }}" />
      </form>
      <a href="{% url 'niveau_create' %}" class="inline-flex items-center gap-2 px-4 py-2 bg-esprit-red text-white rounded-xl shadow hover:opacity-90">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"/></svg>
        Créer un niveau
      </a>
    </div>
  </div>

  <div id="niveaux-panel-container" hx-get="{% url 'niveaux_panel' %}?q={{ q }}&page={{ page }}&page_size={{ page_size }}" hx-trigger="load" class="min-h-[200px]"></div>
</div>
{% endblock %}
