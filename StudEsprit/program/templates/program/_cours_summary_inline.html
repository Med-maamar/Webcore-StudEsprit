{% if error %}
  <div class="p-4 bg-red-50 border border-red-200 rounded">{{ error }}</div>
{% else %}
  {% if summary %}
    <div class="prose max-w-none">
      <h3>R√©sum√© du cours</h3>
      <p>{{ summary }}</p>
    </div>
  {% else %}
    <div class="p-4 bg-yellow-50 border border-yellow-200 rounded">Aucun r√©sum√© disponible pour ce cours.</div>
  {% endif %}
{% endif %}
{% comment %} Inline version of the summary view (without modal wrapper). {% endcomment %}
{% if error %}
  <div class="p-4 bg-red-50 border border-red-200 text-red-800 rounded-lg">{{ error }}</div>
{% else %}
  {% if summary %}
    <div class="mb-4 p-3 bg-blue-50 border border-blue-200 text-blue-800 rounded-lg text-sm">
      <strong>üìÑ R√©sum√© g√©n√©r√©</strong>
    </div>
    <div class="mb-4 prose max-w-none">
      <p>{{ summary.summary }}</p>
    </div>
    {% if summary.key_topics %}
      <div class="mb-4">
        <h4 class="text-sm font-semibold text-gray-700">Sujets cl√©s</h4>
        <div class="flex flex-wrap gap-2 mt-2">
          {% for t in summary.key_topics %}
            <span class="px-3 py-1 rounded-full bg-gray-100 text-sm text-gray-700">{{ t }}</span>
          {% endfor %}
        </div>
      </div>
    {% endif %}
  {% else %}
    <div class="p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg">Aucun r√©sum√© disponible.</div>
  {% endif %}
{% endif %}

<div class="pt-4 border-t flex justify-between">
  <button hx-get="{% url 'cour_pdf_partial' cid %}" hx-target="#cour-content" hx-swap="innerHTML" class="px-4 py-2 border rounded">Retour au PDF</button>
  <a href="{% url 'program_public_cour_detail' cid %}" class="px-4 py-2 border rounded">Ouvrir la page du cours</a>
</div>
