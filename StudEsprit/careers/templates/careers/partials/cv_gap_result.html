{% if error %}
  <div class="p-3 rounded bg-red-50 text-red-700 border border-red-200">{{ error }}</div>
{% elif result %}
  <div class="space-y-4">
    <div class="p-3 rounded bg-blue-50 text-blue-800 border border-blue-200">
      Match score: <strong>{{ result.score }} / 100</strong>
    </div>
    <div>
      <h3 class="text-lg font-semibold">Matched skills</h3>
      {% if result.matchedSkills %}
        <div class="flex flex-wrap gap-2 mt-2">
          {% for skill in result.matchedSkills %}
            <span class="px-2 py-1 text-xs bg-green-50 text-green-700 border border-green-200 rounded-full">{{ skill }}</span>
          {% endfor %}
        </div>
      {% else %}
        <p class="text-sm text-gray-600">No overlapping skills yetâ€”time to level up!</p>
      {% endif %}
    </div>
    <div>
      <h3 class="text-lg font-semibold">Missing skills & learning plan</h3>
      {% if result.missingSkills %}
        <ul class="space-y-3 mt-2">
          {% for plan in result.microLearningPlan %}
            <li class="border rounded p-3">
              <p class="font-semibold">{{ plan.skill }} ({{ plan.hours }} hrs)</p>
              <ul class="list-disc list-inside text-sm text-gray-700 mt-1">
                {% for resource in plan.resources %}
                  <li><a href="{{ resource.url }}" target="_blank" class="text-blue-600 underline">{{ resource.title }}</a></li>
                {% endfor %}
              </ul>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-sm text-green-700">Great news! No major gaps detected.</p>
      {% endif %}
    </div>
  </div>
{% endif %}
